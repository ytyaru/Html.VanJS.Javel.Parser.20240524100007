# Javel.Parser

　小説の簡易書式をHTMLに変換するJavaScriptプログラム。

# 書式

HTML|Javel
----|----
`<p>`|２行以上の連続した改行があるとその前のテキストが`<p>`になる
`<br>`|１つだけの改行
`<h1>`|`# `のあとに続くテキストは`<h1>`になる
`<em>`|`《《ここ》》`のように書くと`ここ`に圏点がつく
`<ruby>`|`山田《やまだ》`、`｜OK《Okey》`のように書くとルビがつく

# 出力

* Javel→HTML→TextArea
* HTML→Javel→TextArea
* Javel→HTML→ファイル
* HTML→Javel→ファイル


* テキスト／ファイル
* 動的／静的
* CUI／GUI
* Javel／HTML

* Webエディタ／Webツール／WebAPI／CUIツール


# 工程

　入力形式Javelと出力形式HTMLをそれぞれどうまとめるか。

* 読書
	* 1記事（表題＋本文（4000字程度迄））
	* シリーズ（表題＋目次＋複数記事（2〜8程度迄（8000〜32000字）））
	* 本（表紙／裏表紙、前書／後書、謝辞、目次、索引、扉、ノンブル（ページ）、柱）
	* 棚（DB(SQLite3)、検索、絞込）
* 著作
	* 紙片（1記事（表題＋本文＋日時＋カテゴリ＋ジャンル））
	* バインダー（表題＋複数紙片）
	* 製本
	* DB化
* 印刷
	* プリンタ（家庭用／コンビニ。CSS／PDF化）
* 宣伝
	* サイト（作品本体。オフライン読書可。Javel・HTML・EPub形式DL可。最新情報提供（RSS/Atom）。ライブラリ提供）
	* SNS（公式（最新情報提供）、作品紹介）
	* 画集（内容の抽象化ダイアグラム、内容を視覚化した一例、画像に作成した素材（GIMP形式,png,3Dモデル等））
	* 音声（読み上げ等）
	* 動画
* 返事（拡散、指摘、感想、意見、評価、二次創作）
	* 指摘（誤字・脱字・衍字・誤記・誤用・名前ミス・順序不正・コピペミス・他）
	* 提案（方言→標準語、ルビ振りや記法、圏点付与や記法）
	* 感想（対象（著者、作品、編、章、節、文）、保存方法（ローカル、SNS、GitHub）、形式（ブラウザ、SQLite3、File））
	* 意見（同上）
	* 評価（同上。区別・差別（区分・差分）・序列化（評価項目、評価根拠、評価日時、評価者、評価対象））
	* 拡散（RePost（著者の作品紹介発言をそのまま自分のアカウントで再発信する）、感想・意見・評価（作品URLを掲載して感想・意見・評価する））
	* 二次創作




```javascript
    /*
    const {h1, p, a} = van.tags
    const author = 'ytyaru'
    van.add(document.querySelector('main'), 
        h1(a({href:`https://github.com/${author}/Html.VanJS.Javel.Parser.20240524100007/`}, 'Javel.Parser')),
        p('Javel構文のパーサ。'),
//        p('Parser for Javel syntax.'),
    )
    van.add(document.querySelector('footer'),  new Footer('ytyaru', '../').make())
    */
    /*
    const parser = new JavelParser()
    console.log(parser)
    const manuscript = `# これは原稿《げんこう》です

　《《ここ》》に書いたテキストは下に表示《ひょうじ》されます。｜H《Hyper》｜T《Text》｜M《Markup》｜L《Language》形式で出力します。

　２つ以上の連続改行があると次の段落になります。
　１つだけの改行だと段落内改行です。

　
　全角スペースだけの段落なら連続した空行を表現できます。お勧めはしません。

　行頭インデントは全角スペースで書きます。

「セリフなど鉤括弧があるときはインデントしないよ」

――そのとき、神風が吹いた`
    const elements = parser.parse(manuscript)
    console.log(elements)
    for (el of elements) { console.log(el.outerHTML) }
    van.add(document.querySelector('main'), elements)
    */
```

