# Javel.Parser

　小説の簡易書式をHTMLに変換するJavaScriptプログラム。

# 書式

HTML|Javel
----|----
`<p>`|２行以上の連続した改行があるとその前のテキストが`<p>`になる
`<br>`|１つだけの改行
`<h1>`|`# `のあとに続くテキストは`<h1>`になる
`<em>`|`《《ここ》》`のように書くと`ここ`に圏点がつく
`<ruby>`|`山田《やまだ》`、`｜OK《Okey》`のように書くとルビがつく

# 入出力

* UI
	* API（CDN, Library（各言語(C/C++,Rust,C#,Java,Python,JS,Node.js,...)））
	* CUI（WebApi, CLI）
	* GUI（WebApp, OS-GUI）
* DataFormat
	* Javel（Editor(textarea), text, blob, file）
	* HTML（Viewer(div), text, blob, file）
	* Element（Javel, HTML）
* RASIS（ラシス。ソフトウェア品質の評価指標）
	* 信頼性（Reliability。故障し難さ）
	* 可用性（Availability。稼働率（障害などで停止せず稼働し続ける時間））
	* 保守性（Serviceability。修理のし易さ）
	* 保全性（Integrity。復旧率（バックアップ））
	* 安全性（Security。セキュリティの高さ）
* 可搬性（portability。他環境への移行のし易さ）は？
* ISO 25010 ソフトウエア品質特性
	* https://www.skygroup.jp/software/quality/article/01/
	* https://qiita.com/mmake/items/ca97c616af0762a5164d
		* https://qiita.com/mmake/items/57900605a6d9f2cec3bc
		* https://qiita.com/mmake/items/1c4a14dc885a44ce6f38
* ISO 25010 ソフトウエア品質特性
	* 利用時品質（User Quality）
		* 有効性（設定された目標や要件をどれだけ効果的に達成できるか）Effectiveness
		* 効率性（リソースをどれだけ効率的に利用できるか）Efficiency
		* 満足性（ユーザーがどれだけ満足しているか）Satisfaction
			* 実用性（ユーザーにとって実用的であり、役立つか）Usefulness
			* 信用性（ユーザーに信頼感を与え、期待通りに動作できるか）Trust
			* 快感性（ユーザーに楽しさや満足感をもたらすか）Pleasure
			* 快適性（ユーザーに快適な体験をもたらすか）Comfort
		* リスク回避性（ソフトウェアが予測可能で潜在的なリスクを最小限に抑えるか）Freedom from risk
			* 経済リスク緩和性（ソフトウェアの利用がビジネスや経済においてリスクを軽減するか）Economic risk mitigation
			* 健康・安全リスク緩和性（ソフトウェアを使用することで生じる健康や安全に関するリスクを軽減するか）Health and safety risk mitigation
			* 環境リスク緩和性（ソフトウェアが環境に対して与えるリスクを軽減するか）Environmental risk mitigation
		* 利用状況網羅性（異なる状況や環境でどれだけ対応できるか）Context coverage
			* 利用状況完全性（異なる状況や文脈でどれだけ適応できるか）Context completeness
			* 柔軟性（柔軟に拡張や変更ができるか）Flexibility
	* 製品品質（開発時品質）Product Quality
		* 機能適合性（提供する機能がユーザーのニーズや期待にどれだけ適しているか）Functional Suitability
			* 機能完全性（必要な機能を十分に提供しているか）Functional Completeness
			* 機能正確性（提供する機能が期待通りに正確に動作するか）Functional Correctness
			* 機能適切性（利用者のニーズに適しているか）Functional Appropriateness
		* 性能効率性（リソースの使用を最適化し、高い性能を維持できるか）Performance Efficiency
			* 時間効率性（実行する機能が所定の時間内にどれだけ速く実行できるか）Time behaviour
			* 資源効率性（システムリソース（CPU、メモリ）を効果的に利用しているか）Resource utilization
			* 容量満足性（処理できるデータやユーザーの数に対する容量を評価）Capacity
		* 互換性（他のシステムやプラットフォームとどれだけ連携できるか）Compatibility
			* 共存性（他のソフトウェアと共存し、干渉なく使用できるか）Co-existence
			* 相互運用性（他のシステムやプラットフォームと効果的に連携できるか）Interoperability
		* 使用性（ユーザーにとってどれだけ使いやすいか）Usability
			* 適切度認識性（利用者の期待に適切に応え、理解しやすいか）Appropriateness recognizability
			* 習得性（初めて使うユーザーがどれだけ早く理解して使いこなせるか）Learnability
			* 適用操作性（正確な操作を提供し、ユーザーが簡単に操作できるか）Operability
			* ユーザエラー防止性（ユーザーの誤操作を防ぎ、誤って行った場合でも影響を最小限に抑えるか）User error protection
			* ユーザインタフェース快美性（ユーザーインターフェースが美的で魅力的か）User interface aesthetics
			* アクセシビリティ（身体障害者を含む全ての人が利用しやすいか）Accessibility
		* 信頼性（安定して動作し、障害やエラーが発生しづらいこと）Reliability
			* 成熟性（どれだけ安定しており、問題なく動作するか）Maturity
			* 可用性（必要な時に利用可能であるか）Availability
			* 障害許容性（耐障害性。障害やエラーに対してどれだけ耐性があるか）Fault tolerance
			* 回復性（障害から迅速に回復できるか）Recoverability
		* 安全性（データや利用者の情報を保護し、権限のないアクセスから守ること）Security
			* 機密性（データや情報をどれだけ機密に保護できるか）Confidentiality
			* 保全性（データや情報を正確に保ち、改ざんを防げるか）Integrity
			* 否認防止性（ユーザーが行ったアクションや取引を否認できないように保護するか）Non-repudiation
			* 責任追跡性（誰が何を行ったかをトレースできるか）Accountability
			* 真正性（ソフトウェアが本物で信頼性があり、名前の盗用を防げるか）Authenticity
		* 保守性（変更や修正を容易に受け入れ、保守作業がスムーズに行えること）Maintainability
			* モジュール性（構成要素が独立しており、変更や修正が容易か）Modularity
			* 再利用性（他のシステムで再利用できるか）Reusability
			* 解析性（障害の監視やログ取得が容易か）Analysability
			* 修正性（変更や修正が容易か）Modifiability
			* 試験性（試験が容易に行えるか）Testability
		* 移植性（異なる環境やプラットフォームで簡単に移植できること）Portability
			* 適応性（異なる環境や要件に適応できるか）Adaptability
			* 設置性（インストールが容易か）Installability
			* 置換性（新しいバージョンに簡単に置き換えられるか）Replaceability

No|要約|概要
--|----|----
1|機能適合性|実装された機能がユーザーのニーズをどれほど満たせているかを示す指標。あらかじめ明確にされている要望のみならず、潜在的なニーズもくみ取る必要がある。
2|性能効率性|システム実行時の性能や資源効率が適切かを示す指標。コンピュータで言えば、CPUの性能やメモリ・ストレージの容量に関係する。より省エネルギーで高性能な状態が望ましい。
3|互換性|別の動作環境でも支障なく機能を維持できるかを示す指標。例えばモバイルアプリなら、さまざまな機種のスマートフォンからアクセスしても適切に動作することを意味する。
4|使用性|どれだけ効果的・効率的に利用できるかを示す指標。例えばECサイトなら、商品の検索や注文が、年齢や性別を問わず直感的かつスムーズに操作できる状態を指す。
5|信頼性|システム障害の発生率の低さや、障害が発生した際の復旧のスムーズさといった、必要時に利用できるかを示す指標。特に利用頻度が高いシステムほど求められる。
6|セキュリティ|適切な利用者以外による「不正利用がない状況」の実現度合いを示す指標。例えば銀行のATMなど、個人情報や金銭が絡むシステムにおいて重要。
7|保守性|不具合要因の速やかな特定と復旧が可能か、日頃のメンテナンスが容易かを示す指標。異常が起きた時にも、ユーザーが安心して使い続けるために大切な観点。
8.移植性	ほかの動作環境への移植のしやすさを示す指標。例えばパソコンの最新OSにすぐ対応できるかが該当する。そのまま使うことを指す「互換性」と異なり、移植作業に伴う手の加えやすさが前提。


# 出力

* Javel（text, blob, file）
* HTML（text, blob, file）
* Element（Javel, HTML）

* Javel→HTML→TextArea
* HTML→Javel→TextArea
* Javel→HTML→ファイル
* HTML→Javel→ファイル


* テキスト／ファイル
* 動的／静的
* CUI／GUI
* Javel／HTML

* Webエディタ／Webツール／WebAPI／CUIツール


# 工程

　入力形式Javelと出力形式HTMLをそれぞれどうまとめるか。

* 読書
	* 1記事（表題＋本文（4000字程度迄））
	* シリーズ（表題＋目次＋複数記事（2〜8程度迄（8000〜32000字）））
	* 本（表紙／裏表紙、前書／後書、謝辞、目次、索引、扉、ノンブル（ページ）、柱）
	* 棚（DB(SQLite3)、検索、絞込）
* 著作
	* 紙片（1記事（表題＋本文＋日時＋カテゴリ＋ジャンル））
	* バインダー（表題＋複数紙片）
	* 製本
	* DB化
* 印刷
	* プリンタ（家庭用／コンビニ。CSS／PDF化）
* 宣伝
	* サイト（作品本体。オフライン読書可。Javel・HTML・EPub形式DL可。最新情報提供（RSS/Atom）。ライブラリ提供）
	* SNS（公式（最新情報提供）、作品紹介）
	* 画集（内容の抽象化ダイアグラム、内容を視覚化した一例、画像に作成した素材（GIMP形式,png,3Dモデル等））
	* 音声（読み上げ等）
	* 動画
* 返事（拡散、指摘、感想、意見、評価、二次創作）
	* 指摘（誤字・脱字・衍字・誤記・誤用・名前ミス・順序不正・コピペミス・他）
	* 提案（方言→標準語、ルビ振りや記法、圏点付与や記法）
	* 感想（対象（著者、作品、編、章、節、文）、保存方法（ローカル、SNS、GitHub）、形式（ブラウザ、SQLite3、File））
	* 意見（同上）
	* 評価（同上。区別・差別（区分・差分）・序列化（評価項目、評価根拠、評価日時、評価者、評価対象））
	* 拡散（RePost（著者の作品紹介発言をそのまま自分のアカウントで再発信する）、感想・意見・評価（作品URLを掲載して感想・意見・評価する））
	* 二次創作




```javascript
    /*
    const {h1, p, a} = van.tags
    const author = 'ytyaru'
    van.add(document.querySelector('main'), 
        h1(a({href:`https://github.com/${author}/Html.VanJS.Javel.Parser.20240524100007/`}, 'Javel.Parser')),
        p('Javel構文のパーサ。'),
//        p('Parser for Javel syntax.'),
    )
    van.add(document.querySelector('footer'),  new Footer('ytyaru', '../').make())
    */
    /*
    const parser = new JavelParser()
    console.log(parser)
    const manuscript = `# これは原稿《げんこう》です

　《《ここ》》に書いたテキストは下に表示《ひょうじ》されます。｜H《Hyper》｜T《Text》｜M《Markup》｜L《Language》形式で出力します。

　２つ以上の連続改行があると次の段落になります。
　１つだけの改行だと段落内改行です。

　
　全角スペースだけの段落なら連続した空行を表現できます。お勧めはしません。

　行頭インデントは全角スペースで書きます。

「セリフなど鉤括弧があるときはインデントしないよ」

――そのとき、神風が吹いた`
    const elements = parser.parse(manuscript)
    console.log(elements)
    for (el of elements) { console.log(el.outerHTML) }
    van.add(document.querySelector('main'), elements)
    */
```



* コンピュータ（PC/スマホ）利用者が無料で小説を書いて読める
* 他システムと連携できる
	* 作品を公開できる（GitHub）
	* 作品に感想・意見できる（Mastodon）
	* 作品を評価・紹介できる（Mastodon）
	* 作品をDLして保存・再読・編集・変換できる（Javel, HTML/CSS/JS, EPub, Markdown, Python）
	* 作品をプリンタで印刷して製本できる（）
	* 著者は読者から暗号通貨による寄付を受け取れる（Mona, BTC, ...）
* 他システムに組み込む
	* Software
		* WebApp
		* WebUi
		* WebApi
		* Library（CDN）
		* Library（File）
	* License
		* CC0, AGPL, ...
* 自サーバを立てる
	* 中央集権
		* 作品を検索・絞込・一覧できる（著者自身による作品公開サイト）
		* 著者を検索・絞込・一覧できる（複数著者による小説投稿サイト）
	* 分散
		* 連合化（Fediverse、ActivityPub、Webfinger。各個人が個別に管理しながらも相互に接続できる）
			* 自前でサーバをもち、他のサーバと連動して情報交換する（自他の作業を互いに通知し合える）
				* [自分／Ａ氏]はこの作品を公開しました
				* [自分／Ａ氏]はこの作品の作業中です
			* P2P共有（自他の作業履歴（成果）を互いに保存し合う）
				* 認知しあえる（読み合える。刺激し合える）
			* 特定サーバに集中して投稿＆DL
				* GitHubに各自投稿
				* 興味ある人物や作品を見つけてフォローすると以降はローカルでその情報を抽出する
				* 未フォローの人物や作品が投稿されたらPush通知を受け取る
					* 他人の数は最大八十億人で作業時間は24時間なので意識していると自分の時間が奪われる
						* 表示頻度はどうすべきか（常時ポップアップされてもウザい）
						* 保存頻度はどうすべきか（常時書き込まれたらディスクが死ぬ）
							* ノードのURLなど最低限の情報のみ保存する
							* それ以外のリアルタイム情報はすべてメモリ上にのみ保存する
								* 古い順に次々と捨てる

# 最終形式

* File
	* Javel（単一／分割）
	* 単一HTML
	* HTML/CSS/JS
	* SQLite3
	* EPub（XHTML）
	* PDF
	* Markdown
* App
	* ブラウザ
		* PWA（ローカルサーバ、GitHubPages）
		* Python（Eel）
		* 拡張機能（Chrome）
	* OS
		* GUI（Qt,GTK,wxWidgets,Tkinter）
		* 端末（CUI/TUI）
* Cmd（HTTPS REST, 端末（CUI/CLI））
* Lib（JavaScript, CDN, Python）

## App

## Lib

Lib|要約
---|----
Viewer|Javel形式のテキストデータかファイルURLを渡すと作品をHTML表示する

## WebApp機能

機能|要約
----|----
Editor|テキスト編集UI
Viewer|HTML表示UI
Generator|アプリの設定・入出力

* File系
	* カウンタ
		* 字数
			* 書字数（Javel）
			* 読字数（HTML（Javelメタ文字、空白文字、ルビrtを削除した数（記号削除。３字以上連続した字は１字）））
			* 印字数（紙面上字数（空白文字のうち字下げ全角スペースは含める等））
		* ファイルサイズ
			* UTF-8換算（字種と字数から計算する）
		* 構文比
			* メタ（meta）
				* 鍵（key）
				* 値（value）
			* 本文（body）
				* メタ（meta（# ｜《》））
				* 内容（content）
		* 文種比
			* 会話文
			* 地の文
			* 他（補足説明チップス、ステータス、システムメッセージ、電話、チャットのやりとり等）
		* 字種比
			* 漢字
			* ひらがな
			* カタカナ
			* 英字
			* 数字
			* 空白・制御（スペース（半角／全角）、ASCII制御文字（タブ、改行、他印字されない制御文字））
			* 記号
				* 約物（https://ja.wikipedia.org/wiki/%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%81%AE%E7%B4%84%E7%89%A9%E3%81%AE%E4%B8%80%E8%A6%A7）
					* 括弧（「」『』（）〔〕［］｛｝｟｠〈〉《》【】〖〗〘〙〚〛＜＞等）
					* 引用符（“”‘’）
					* 句読点（。、・゠＝）
					* 感嘆符（！？‼⁉!?）
					* 音声記号（っッー゛゜）
					* 繰り返し（々仝ヽヾゝゞ〃〱〲〳〵〴〵）
					* 特殊（〆乄〜…‥ヶ•◦﹅﹆※＊〽〓♪♫♬♩〇○●◎✖×□■◇◆△▽◁▷▲▼◀▶）
						* ダッシュ（―）
						* 三点リーダー（…）
			* 絵文字
			* 他
	* 出力
		* 形式（ファイル／クリップボード／UI／ポスト情報（WebAPI(HTTPS-POST)/BlueTooth））
		* 書式
			* Javel
			* HTML（動的／静的、単一／複数、リフロー／フィックス、本文のみ／文書全体（`<meta>`等））
			* SQLite3
			* EPub
			* PDF
			* ブラウザ（IndexedDB, LocalStorage）
		* 宛先
			* ローカル
			* サーバ（WebAPI）
			* 他デバイス（BlueTooth）
	* メタ情報編集（タイトル、カテゴリ、ジャンル、キャッチコピー、導入文、著者（名前、暗号通貨アドレス、SNS））
* Editor系
	* スクロール連動（Editor/Viewer）
	* Lint（禁則処理（「」の最後で句読点禁止））
	* 白黒
	* 縦横
	* ルビ（表示／非表示）
	* 圏点（表示／非表示、変更（マーク文字種、色））
	* 余白（字間、行間、余白）
	* 字形（フォント種別変更、フォントサイズ変更（一行あたりの読みやすい字数40字考慮））






* 文種
	* 役割
		* 説明（5W1H）
		* 描写（修辞技法（https://ja.wikipedia.org/wiki/%E4%BF%AE%E8%BE%9E%E6%8A%80%E6%B3%95））
	* 形象
		* 会話（「」）
		* 思考（地の文）


# ワークフロー

1. 執筆作業
	1. 書く
		1. メタ
			* 著者
				* 名前
				* 連絡先
					* SNS
					* 暗号通貨
					* サイト（他作品一覧等）
				* ステータス
					* 作品数
					* 総字数（書字数、印字数、読字数）
					* 総応数（リポスト、リプライ、暗号通貨額）
			* 戦略（売込）
				* ピッチ（40字。作品を一言で要約し興味を抱かせる。ログライン要約化）
				* ログライン（140字。ピッチ詳細化（どんな誰が／どうして／どうなる話））
				* SaveTheCat（三幕構成を細分化した構造）
			* 作品
				* 表題（100字）
				* キャッチコピー（35字）
				* 紹介文（200字）
				* 要約文（80字）
				* カテゴリ（HTML文書。小説。ラノベ／ライト文芸／一般文芸／文学／児童／官能）
				* ジャンル（作品。設定。ファンタジー（ハイ／ロー、異世界／現代、ダーク／ライト）／SF／推理／ホラー）
				* キーワード（嗜好。性・暴力・残虐・犯罪表現警告。BL・ハーレム・最強等）
				* ライセンス（©, CC0, CC-BY, CC-SA-BY）
				* 保存場所URL
				* 変更履歴
				* 返信先（著者による本作品へのSNS発言URL（リプライ対象））
				* 拡散元（著者による本作品へのSNS発言URL（リポスト対象））
		1. 本文
	1. 把握する
		1. 字数（文書の規模（一節一話あたり4000字以内））
		1. 字種比（対象者に相応しいか（ラノベなら漢字比30%未満））
	1. 整える⚠
		1. 禁則処理（Lintツールによる警告（鉤括弧の末尾に句読点をつけない等））
			1. 不正箇所チェック（Editorのテキストが変更される度に）
			1. 不正箇所数カウント（ボタンに不正数表示）
			1. 不正箇所スクロール（ボタンを押したら）
1. 入出力
	1. 入力（ファイルDnD（Javel/HTML）、各形式読込ボタン（EPub,PDF,小説投稿サイト形式））
	1. 出力（Javel, HTML, EPub, PDF, 他（小説投稿サイト形式(カクヨム,なろう,アルファポリス等)））
		1. 設定
			1. 出力是非
				1. Javel
				1. HTML
				1. EPub
				1. PDF
			1. 出力構成
			1. HTML
				1. 
		1. 出力（ボタン押下）
1. アプリ設定
	1. 👀見た目
		1. 配色（白黒）
		1. 書字方向（縦横）

```
+--------------+--+-------------+
|Editor        |題|Viewer       |
|              |字|             |
|              |⚠|             |
|              |黒|             |
|              |横|             |
|             ⬆|？|            ⬇|
+--------------+--+-------------+

⬆:Editorにフォーカスすると表示されるボタン（ファイルUpload）ALT+Iキー押下でも実行可（CTRL+ALT+Iで設定画面開く）
⬇:Viewerにフォーカスすると表示されるボタン（ファイルUpload）ALT+Oキー押下でも実行可（CTRL+ALT+Oで設定画面開く）
```
```
メタ情報編集
+--------------+--+-------------+
|Editor        |題|Viewer       |
|              |字|             |
|              |⚠|             |
|              |黒|             |
|              |横|             |
|             ⬆|？|            ⬇|
+--------------+--+-------------+
* 
```

```
+--------------+--+-------------+
|Editor        |⬆ |Viewer       |
|              |題|             |
|              |字|             |
|              |⚠|             |
|              |黒|             |
|              |横|             |
|              |⬇ |             |
|              |？|             |
+--------------+--+-------------+
```
```
入出力ボタンを編集状態に応じて切り替える
　初期状態：[入]importボタン表示（javel,htmlなど編集対象ファイル入力）
非初期状態：[出]exportボタン表示（javel,htmlなど編集対象ファイル出力）
出力直後　：[？]ボタン表示（このアプリについて表示する）
+--------------+--+-------------+
|Editor        |題|Viewer       |
|              |字|             |
|              |⚠|             |
|              |黒|             |
|              |横|             |
|           📋⬆|？|          📋⬇|
+--------------+--+-------------+
📋:クリップボードに内容をコピーする
⬆:Editorにフォーカスすると表示されるボタン（ファイルUpload）ALT+Iキー押下でも実行可（CTRL+ALT+Iで設定画面開く）
⬇:Viewerにフォーカスすると表示されるボタン（ファイルUpload）ALT+Oキー押下でも実行可（CTRL+ALT+Oで設定画面開く）
上書き保存:ChromeのFileSystemAPIを使う。Ctrl+Shift+S（Save）
読込:ChromeのFileSystemAPIを使う。Ctrl+Shift+L（Load）
```

```html
<!doctype html>
<html lang="ja">
	<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
		<meta charset="utf-8">
		<title>タイトル</title>
		<link rel="stylesheet" href="/css/style.css">
		<link rel="icon" type="shortcut icon" href="/favicon.ico">
		<meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
		<meta name="author" content="{{著者名}}">
		<meta name="description" content="{{説明文}}">
		<meta name="keywords" content="{{キーワード}}">
		<meta name="generator" content="Javel">
		<meta property="og:type" content="website">
		<meta property="og:title" content="{{ タイトル }}">
		<meta property="og:description" content="{{ 説明文 }}">
		<meta property="og:url" content="{{ ページURL }}">
		<meta property="og:image" content="{{ 画像URL }}">
		<meta name="twitter:card" content="summary_large_image">
		<meta name="twitter:site" content="@{{ twitter-id }}">
		<meta name="twitter:creator" content="@{{ twitter-id }}">
	</head>
	<body>
	</body>
</html>

```
```yaml
author:
	- name: 山田太郎《やまだたろう》
	- sns:
		- github: username
		- twitter: username
		- mastodon:
			- instance: username
	- site:
		- main: url
		- works: url
		- person: url
	- crypto:
		- mona: address
		- btc: address
composition:
	- url: https://  ネタバレを避けるため
	- ciphertext: .... /// ネタバレを避けるため以下内容を暗号化したテキストにしたもの
	- pitch:         // 作品を一言で
	- logline:       // どんな人が何をしてどうなるか
	- concept:       // 何を主題にしたか一言で（着眼点、考え方の方向性）
	- tagline:       // 作品の雰囲気と設定を一言で（映画エイリアン＝宇宙では、あなたの悲鳴は誰にも聞こえない）
	- synopsis:      // ストーリーの要約とキャラクター
	- なぜこの作品が私にとって大切か
	- なぜ「今」この作品を作ることが大切か
	- 対象となる観客は誰か（どのくらい対象がいて、なぜ対象に受けるか）
	- 理想の監督とキャスト
	- 作品のおおよその予算
	- saveTheCat:
		- openingImage: 
		- themeStated: 
		- setUp: 
		- catalyst: 
		- debate: 
		- breakInto2: 
		- bStory: 
		- funAndGames: 
		- midpoint: 
		- badGuysCloseIn: 
		- allIsLost: 
		- darkNightOfTheSoul: 
		- breakInto3: 
		- finale: 
			- gatheringTheTeam: 
			- executingThePlan: 
			- theHighTowerSurprise: 
			- digDeepDown: 
			- executionOfTheNewPlan: 
		- finalImage: 
cover:
	- title: 
	- catch: 
	- intro: 
	- summary: 
	- category: 
	- genre: 
	- preference: 
	- warning: 
	- date: 
		- created: 
		- updated: 
		- published: 
	- wordCount:
		- write: 
		- print: 
		- read: 
revisions: [] 修正履歴 diff-patch
network:
	- url: https://...
	- license: ©, CC0, CC-BY, CC-SA-BY
	- reply:
		- twitter: https://...   返信先（著者による本作品へのSNS発言URL（リプライ対象））
	- repost:
		- twitter: https://...   拡散元（著者による本作品へのSNS発言URL（リポスト対象））
```



https://note.com/yankulfski/n/n869341726128
ログラインに矛盾を含めると面白くなる（矛盾をどう解決するかが人間ドラマになる）

ピッチ
ひたすら正義を追求する男の話

ログライン
1. 設定：正義のヒーローめざして強者になった主人公は
2. 葛藤：強者は勝者になり誰かを負かす悪であると気付き
3. 解決：自分の正義を自分だけでなす孤独の最強悪になる

----------
　正義のヒーロー三ヶ条

1. 正義のヒーローは強い。どんな相手にも負けず、あらゆる逆境を跳ね返す強者だ（負けない。逃げない。裏切らない。）
2. 正義のヒーローは正しい。決して偽らず、ありのままを認める誠意の化身だ（欺かない。逸らさない。偽らない。騙さない。誤魔化さない。）
3. 正義のヒーローは貫く。いかなる例外も認めず、自ら定めた正義を初志貫徹する男だ（曲げない。折れない。挫けない。）

　貫くべきは正しさであり、正しくあるためには、強くある必要がある。

　何事も貫かねば成せない。成すべき、貫くべきは正しさである。正しさを貫くためには、それを成せる強さがいる。

　強くあらねば正しくあれず、正しくなければ間違いで、間違いは排除すべき悪だ。これを貫くとき正義を成せる。
----------

　善悪は立場によって変わる。誰かの正義に寄り添えば別の誰かにとっての悪になる。悪を背負う覚悟がなければ正義を成せない。自分が背負うべき悪は他人の悪ではなく自分自身の悪である。正義とは孤独で最強の悪だ。

　正義とは何か。答えは他にもある。たとえば家族や仲間のために尽くす共生的な正義。多数派のために尽くす功利主義的な正義。自分とは異なる正義と比較し、拒絶することで、徐々に主人公の正義が何なのかが明らかになっていく。

　何らかの正義をなすことは、何らかの悪をなすことにもなる。たとえば家族を守るために恩師を殺すとか、多数派のために少数派の恋人を殺す等。つまるところ、何らかの正義を守るせいで、何らかの悪を成してしまう。他人の正義をみて疑問に思う。ならば正義の本質とは何か。

　自分は悪ではない。そう主張するために嘘偽る者が多数派である。しかしそれは自分が生き残るためだ。生き残るために嘘をつくのは正義だろうか？　嘘をついてでも生き残ることが正義とでもいうか。違う。嘘をつかねば生き残れない弱さは悪だ。嘘をついて正当化を試みることは悪だ。

　自分は悪ではない。自分の悪性を頑なに認めないことは正義だろうか？　自分は正義でなければいけない。そのために悪性を否認し続けることは、過ちを正さず間違い続ける悪だ。

----------
　正義のヒーロー三大悪

1. 殺しは悪だ。いかなる事情があろうと殺しは悪である
2. 正当化は悪だ。いかなる事情があろうと悪性を否認することは悪である
3. 責任転嫁は悪だ。いかなる事情があろうと自らの悪性を他者になすりつけることは悪である
----------

　正義のヒーローならば正義だけでなく悪も知っているはずだ。悪も三つで説明できる。

　殺しは悪だ。しかし殺さねば正義をなせない場合がある。この矛盾した状況において正義の真価が問われる。すなわち、殺してでも正義をなすべきか？　それは正義か？　否。悪である。それでも。悪を成してでも正義を成すべきだ。悪になるのが怖くて正義が成せないなら、それはもう正義ではない。悪に屈した正偽だ。同様に、悪を成してでも正義を成したなら、自らが悪であることを認めねばならない。さもなくば悪だ。

　正義のヒーローは負けない。どんな逆境も跳ね返す強者だ。たとえ自らが悪になる苦しみに苛まれようとも、決して挫けない。

　こうして他人の正義をみて、自分との違いを知り、自分の正義が少しずつ明確になっていく。すなわち正義の基準は自分自身である。自分が望むことを自力で実現する。それが正義だ。よって他人の望みを叶えるのは正義ではない。他人にとって悪になろうとも自分の望みを自力で叶えることが正義である。

　正義の正体は利己だ。正義を求めて正義を貫くなら、それは利己である。利己故に他損することもある。その悪性を認めることが正義である。その悪性を否認することは正義であるために嘘偽りを弄する悪である。正義はそれに含まれる悪性を認めたとき正義たれる。

　正義は一つだ。どんな場合でも決してブレない。

　自分の悪性を自覚し認める。これだけが唯一正義であれる術である。故に誰にも負けない孤独で最強の悪こそが正義だ。

　自分の正義を穿けば誰かの悪になる。誰かの悪になることで誰かの正義が産まれる。つまり悪こそが正義の産みの親だ。この世に正義を産み出すためには悪が必要だから、誰かが悪にならねばならない。ならば自分がなろう。誰よりも正義を愛する自分にしか成せない。悪になるのが怖いだけの偽善者にはできない本物の正義になるんだ。

映画『ロッキー』のログライン
1. 設定：しがない３流ボクサーのロッキーにひょんなことから世界タイトルの試合が舞い込む
2. 葛藤：試合中、ロッキーは偉大なチャンピオンにはとても勝てないと気づいてしまう
3. 解決：ロッキーはせめて最後までKOされないことを誓い、それを達成することでささやかな勝利者となった

『魔法少女まどかマギカ』のログライン
1. 設定：願いを叶えるために魔女を倒す魔法少女になった少女は
2. 葛藤：魔法少女がやがて魔女になるという負の連鎖を知り
3. 解決：それを終わらせることを自分の願いとして願う

# Javel-Viewer-Min

　Javel形式のテキストからHTMLを生成する。

* 動的生成版
* 静的生成版

　応用範囲の高い動的生成版を対象とする。

* ファイル分割版（要HTTPS鯖（`fetch()`使用するため））
* ファイル単一版（HTML+CSS+JS+Javel原稿）

　今回は単一版のみ対象。

　必要な機能は以下。

* レスポンシブ
	* 画面サイズ＋アスペクト比
		* 画面分割（1〜2）
		* 縦横
* 配色変更（白黒）
* 書字方向変更（縦横）
* 頁数表示（n/N）
* ページ遷移（前後、最初）
* ページ保存（栞、読了是非）

　ページ保存が面倒。作品ごとにIDをもたせ、それをキーにしてLocalStorageで現在ページのブロックインデックスを保存する必要がある。作品数が増えるとデータ量が増えてしまう。毎回保存すると書込回数が増えてHDDが削れてしまう。そこで読了済みになった作品にはページ位置を保存しないようにするような工夫が欲しい。

```
readed: {
    "作品ID": {
        isReaded: true,   // 読了済みか
        bookmark: 123,    // 前回終了時に表示していたページにあるHTML要素の最小Block Index
        isAutoBookmark: false, // 終了時自動的に栞をはさむか（読了済み判定するまではtrue。読了済み後は任意）
    }, ...
}
```

　追加で欲しい機能は以下。

* 感想（impression）
* 意見（opinion）
* 分析（analysis）
* 評価（review）
* 採点（rating）
* 拡散（share）
* 紹介（introduction）


* 客観／主観
	* 客観
		* 作品の特定箇所に対して
	* 主観


* sentiment: お気持ち表明
* report: 

* comment: 作品の特定文に対する短い感想（〜140字）
* report: 特定の作品またはその節・章・編に対する感想（200字〜）
* feedback: 

* 評価観点
	* 主題
		* 主題：作品の主題に興味を惹かれたか
		* 主張：主題に対する解答に魅力があるか
	* 構成
		* 構成：作品の構成に満足したか（ダレることなく最後までページをめくる手がとまらなかったか）
		* 言葉：作品の言葉遣いやセリフ回しに痺れたか、印象に残ったか、主題や主張を示すものに相応しかったか
		* 人物：作品の登場人物は主題や主張を示すものに相応しかったか
		* 事件：作品の事件は主題や主張を示すものに相応しかったか
	* 文章
		* 視認性：視認性の高さ（可読性。統一性。禁則処理を徹底している。同じ意味のものを同じ語で統一している等）
		* 理解性：内容が理解しやすかったか（過不足ない文章であり理解しやすかったか。冗長さはなかったか等）
		* 感情性：感情の振れ幅が大きかったか（期待していた場面は期待通りかそれ以上だったか）
		* 描写性：情景や心情を描写できていたか（理解できた。納得できた。最善の描写だった。映像や感情が浮かんだか）
		* 修辞性：メタファーの共感性・鮮明性・痛烈性（主題の暗示を受け取れたか。それは適切か。明快か。強烈か等）

* 評価観点
	* 主観／客観
	* 主観
		* 好き／嫌い
		* 良い／悪い
		* 賛成／反対
	* 客観
		* 主題
		* 構成
		* 文章




# アプリ構成

* Javel
	* まとめ単位
		* Book（一冊の作品）
		* Shelf（同一著者の全作品）
	* アプリ単位
		* Writer（編集UI）
		* Reader（読書UI）
		* Converter（変換UI）
	* エンジン
		* 相互変換（Javel,Element,HTML,EPub,PDF,SQLite3,小説投稿サイト形式（カクヨム,なろう,...））

　一覧。

* javel-book-writer
* javel-book-reader
* javel-book-converter
* javel-shelf-writer
* javel-shelf-reader
* javel-shelf-converter

　SNS連携機能は一旦排除して簡略化する。

* javel
	* book
		* writer
			* src
			* app.html
		* reader
			* src
			* app.html
		* converter
			* src
			* app.html
	* shelf
		* writer
			* src
			* app.html
		* reader
			* src
			* app.html
		* converter
			* src
			* app.html

```
Javel-Book-Writer
+--------------+--+-------------+
|Editor        |題|Viewer       |
|              |字|             |
|              |⚠ |             |
|              |黒|             |
|              |横|             |
|             ⬆|？|            ⬇|
+--------------+--+-------------+
？：初期状態なら「入」編集状態なら「出」出力直後なら「？」。？はアプリ情報表示
入：編集対象ファイル選択（DnDでも可）
出：ファイル出力する（⬆⬇ならJavel/HTML各ファイルを一つずつDL。出ボタンならまとめてZIP圧縮ファイルDL）

Javel-Book-Cover-Writer
+--------------+--+-------------+
|Editor        |戻|Viewer       |
|題[     ]n/n字|字|             |
|Ｃ[     ]n/n字|⚠ |             |
|要[     ]n/n字|黒|             |
|紹[     ]n/n字|横|             |
|カ[   ▼]n/n字|著|             |
|ジ[   ▼]n/n字|　|             |
|キ[     ]n/n字|　|             |
|警☑ 性☑ 暴☑ 酷|　|             |
|返[     ]n/n字|　|             |
|拡[     ]n/n字|　|             |
|版[     ]n/n字|　|             |
|日[     ]n/n字|　|             |
|ID[     ]n/n字|　|             |
+--------------+--+-------------+
題：表題（100字）
Ｃ：キャッチコピー（35字）
要：要約（80字）
紹：紹介（200字）
カ：カテゴリ（小説＞（ライトノベル／ライト文芸／一般文芸／文学／児童／官能））
ジ：ジャンル（ファンタジー（ロー／ハイ、ライト／ダーク、異世界／現代）／SF／推理／ホラー／時代）
キ：タグ・キーワード・嗜好性（BL、最強、…）
警：警告（描写有無（性・暴力・残酷））
（以下はSNS連携予定）
返：返信用SNS発言URL（種:[GitHub,Mastodon,Twitter,...], URL:https://...）
拡：拡散用SNS発言URL（種:[GitHub,Mastodon,Twitter,...], URL:https://...）
（以下は自動作成される予定）
版：第n版（1〜整数値）
日：日時（作成・更新・公開）
ID：識別子（uuid）

Javel-Author-Writer
+-----------------------+--+----------------------+
|Editor                 |戻|Viewer                |
|名[     ]n/n字         |字|                      |
|Ｕ[名][URL]            |  |                      |
|  [名][URL]            |  |                      |
|  ...                  |  |                      |
|Ｓ[種▼][Ｉ▼][名]n/n字|  |                      |
|  [種▼][Ｉ▼][名]n/n字|  |                      |
|  ...                  |  |                      |
|Ｃ[種▼][Ａ▼]    n/n字|  |                      |
|  [種▼][Ａ▼]    n/n字|  |                      |
|  ...                  |  |                      |
|日[     ]n/n字         |  |                      |
|ID[     ]n/n字         |  |                      |
+-----------------------+--+----------------------+
名：名前（著者名）
Ｕ：サイトURL（名:main, URL:https://...）
Ｓ：SNS連携（種:Mastodon, Ｉ:mstdn.jp, 名:username）
Ｃ：暗号通貨（種:MONA, Ａ:アドレス）
日：日時（作成・更新・公開）
ID：識別子（uuid）

```

```
Javel-Book-Reader
+--------------+--+-------------+
|1             |題|2            |
|              |頁|             |
|⬅             |時|            ➡|
|              |黒|             |
|              |横|             |
|              |栞|             |
|              |DL|             |
|              |？|             |
+--------------+--+-------------+
題：本作品概要を表示する（表題や著者等。「栞」「DL」はここに含めても良さそう）
頁：ページ数を表示する（n/N）
時：現在時刻を表示する（hh:mm）
黒：配色変更する（白黒）
横：書字方向変更する（縦横）
栞：読了済みでも栞を挟むか（☑）
DL：Javelファイルをダウンロードする
UL：指摘・感想・意見・評価(♥N, 🔖N, 👍N👎N, ★5.0)
？：アプリ詳細を表示する
```

```
Javel-Book-Converter
+-------------------------------+
|PATH [             ]           |
| IN  [           ▼]           |
| OUT [           ▼]           |
+-------------------------------+
|詳細                           |
|                               |
|                               |
|                               |
|                               |
+-------------------------------+
|[出力]                         |
+-------------------------------+
PATH：入力ファイル
IN  ：入力ファイル形式
OUT ：出力ファイル形式（Javel,HTML,EPub,PDF,小説投稿サイト形式（カクヨム,なろう,...））
詳細：出力ファイル形式の詳細設定
[出力]：ファイルを出力する
```

```
Javel-Shelf-Writer

```

# Javel-Shelf-Writer

　HTTPS規格でなくFILE規格でも使えること。`app.html`を起動しブラウザ上で動作すること。オフラインで機能すること。

　BookとShelfの違いは複数作品をDB保存して集計・検索できることにある。

　IndexedDBで保存したい。これをSQLite3形式でDLしたい。ただしIndexedDB/LocalStrage等のブラウザ保存機能はセキュリティ上の不備がある。すなわちJS-APIで取得できてしまうことだ。いわゆるXSS攻撃によって作品データが奪取され、盗作される可能性がある。

　盗作を避ける方法は二つ。

1. IndexedDBに保存する本文を暗号化する
2. IndexedDBを使わずPythonのUIライブラリEelを用いてアプリ作成し、Python APIで任意のパスに保存する

　今回は前者を対象とする。

　暗号化には暗号鍵が必要であり、それは秘密にする必要がある。もしFILE規格で動作させるならHTMLファイル内容の一部をユーザが手動で変更せねばならない。すなわち独自の暗号鍵を作成し、対象箇所にそれを上書きする必要がある。

　もしHTTPSが許されるなら、`private.key`など所定のファイル名で暗号鍵を作成し、それを読み込ませればユーザの手動作業は不要にできた。しかし今回はFILE規格での動作が要件なので、ソースコードのハードコーディングが必要になる。

　仮に独自の暗号鍵を作らなかった場合、公開された暗号鍵による暗号化データがIndexedDBから取得できる。つまり復号化できてしまう。一応、平文では保存されないため、ソースコードを解析して復号化する処理を実行してやらねば平文は取得できない。だが、それらは公開されたソースコードを見れば実行可能である。

　一意の識別子についてはUUIDまたはFingerprint2またはClientjsを使う。fingerprintはGDPR（個人情報保護規則）対象データなので個人情報取得への同意が必要。

```javascript
const client = new ClientJS();
const fingerprint = client.getFingerprint();
console.log(fingerprint); // int
```

　もし上記コードでfingerprintを取得したら、ユーザ手動作業なく暗号化できる。

　fingerprintをキーにして本文を暗号化する。タイトルなど検索キーは暗号化しない。デバイスごとにキーが異なるため、IndexedDBに含まれている暗号化済み本文を復号化するには、同じデバイスで作成されたfingerprintが必要になる。

　暗号化しておくべきはIndexedDBのみ。これはXSS攻撃を受けても取得されるのは暗号化された本文であり盗作は不可能。また、復号化しようにもキーとなるfingerprintが一致しなければならない。基本的に一致する可能性は極めて低いため、盗作を防げる。

　ただ、HTTPS上にアプリを配置してしまうとXSS攻撃を受ける可能性がある。上記コードを実行し、そのままfingerprintも送信されたら復号化されてしまう。この場合は独自UUIDに変更しても同じ問題をもつ。ソースコードを解読されたら復号化に必要なキーも判明するため、それを送信するソースコードを差し込めば盗作されてしまう。

　要件ではFILE規格で使用するため問題ないはず。問題が起きるとすればローカル上でソースコードが書き換えられ、データを送信するコードを挿入されてしまった場合である。基本的にはOSのログインで保護することを前提としているため、それは想定しない。IndexedDBはあらゆるHTTPSサイトからアクセス可能だが、同一ドメインポリシーに従っているため、アプリをHTTPS上にデプロイしない限り作品データはIndexedDB APIから取得できない。`localhost`上では実行できるが、XSS攻撃コードを混入されない限りは安全である。

　と思ったが、危険性がある。FILE規格で使用する全く別のXSS攻撃用アプリを作成され実行してしまうと`localhost`ドメインのIndexedDBデータにアクセスできてしまう。もしそこからさらに誰かのサーバにデータを送信するコードが埋め込まれていたら、XSS攻撃が成立してしまう。

　こうなると最後の砦は暗号化だ。IndexedDBに保存したデータを暗号化していれば、復号化するためのキーがない限りは意味のない文字列になる。fingerprintだとそれを取得するコードを実行されたら簡単に復号化されてしまう。UUIDなら独自UUIDをハードコーディングされたソースコード箇所を特定しない限りキーは盗まれない。

　固定UUIDについて。ユーザが手動変更する面倒さが問題だった。が、UUID部分を動的生成し、ソースコードも動的生成すれば解決する。つまりアプリを動的生成するアプリを作ればよい。

　問題はアプリ生成アプリがXSS攻撃された場合である。動的生成したUUIDを毎回サーバ送信された場合、それを鍵候補データとして総当り攻撃されたら復号化されてしまう。

1. IndexedDBを使う
	1. 暗号化せず（XSS攻撃で盗作の恐れあり）
	2. fingerprintで暗号化する（localhostでXSS攻撃アプリを実行すると盗作される）
	3. 固定値UUIDで暗号化する（OS認証を解除され埋込UUIDを盗まれたら盗作される）
	4. 動的生成UUID付アプリ生成アプリをHTTPSでデプロイする（XSS攻撃でUUIDを盗まれ総当り攻撃し盗作される）
	5. 動的生成UUID付アプリ生成アプリをFILE規格で実行する（OS認証を解除され埋込UUIDを盗まれたら盗作される）
2. IndexedDBを使わない
	1. PythonのEelでUIを作成しつつPython APIでローカルFSに保存する（ローカルを乗っ取られたら盗作の恐れあり）

　FILE規格で実行するアプリにUUIDを埋め込む。そのUUIDを鍵にして暗号化したデータをIndexedDBに書き込む。すると当該アプリのみ復号化できるデータとなる。このデータを盗作するにはデバイス盗難または、OS認証を解除して当該アプリを実行し、SQLite3データとして平文でエクスポートするのが最速。つまり障害は三つ。デバイス盗難・紛失。OS認証。当該アプリパス。これらについて本アプリはサポート対象外だ。所有者またはOS実装者の責任である。

　結論。FILE規格で実行するアプリにUUIDを埋め込む。そのUUIDを鍵にして暗号化したデータをIndexedDBに書き込む。以上が本アプリの盗作防止策とする。

　問題はHTTPS公開した後だ。公開後に盗作される可能性がある。これについてはpingサーバやSNS等に通知して自分が最初であることを客観的に知らしめる必要がある。声の大きい者が盗作したら、逆に声の小さい一次創作者が盗作者呼ばわりされる可能性すらある。また、一部だけ変更した盗作が表れるのは防ぎようがない。



　IndexedDBの制限として容量がある。2GBが上限だ。文字コードUTF-8における日本語は一字あたり4〜6Byteである。IndexedDBはドメイン単位で2GBの制限がある。FILE規格で使う全アプリは`localhost`ドメインになる。もし仮に2GBすべて使えるなら、文庫本五千冊文のテキストが書ける計算になる。

```
2,000,000,000 Byte / 4 Byte
= 500,000,000 字  （5億字。4Byte／日本語一字）
=     125,000 記事（4千字／一記事）
=       5,000 冊  （10万字／一冊）
```

　一デバイスあたり五千冊文のテキスト。これはおそらく一人が一生に書く本の数として十分だろう。

　一記事四千字を毎日書いたら343日目で終わってしまう。つまり一年持たない。そう考えると結構少ない。記事は本よりも簡単に書けてしまうから。

```
Javel-Shelf-Writer

* 著者情報編集
* 作品集計
	* 作品数
	* 字数
	* 応数
	* 日時（最古〜最新）
* 作品を検索する
	* 並替（名前、日時、字数、応数）
	* 絞込（名前、日時、字数、応数）
* 作品を制作する
	* 企画
		* ピッチ
		* ログライン
		* コンセプト
		* タグライン
		* シノプシス
		* なぜこの作品が私にとって大切か
		* なぜ「今」この作品を作ることが大切か
		* 対象となる観客は誰か（どのくらい対象がいて、なぜ対象に受けるか）
		* 理想の監督とキャスト
		* 作品のおおよその予算
	- beetSheet(saveTheCat):
		- openingImage: 
		- themeStated: 
		- setUp: 
		- catalyst: 
		- debate: 
		- breakInto2: 
		- bStory: 
		- funAndGames: 
		- midpoint: 
		- badGuysCloseIn: 
		- allIsLost: 
		- darkNightOfTheSoul: 
		- breakInto3: 
		- finale: 
			- gatheringTheTeam: 
			- executingThePlan: 
			- theHighTowerSurprise: 
			- digDeepDown: 
			- executionOfTheNewPlan: 
		- finalImage: 
	* 世界観
		* 舞台
			* 物理法則
			* 社会制度
			* 国・組織
			* 歴史
		* 人物・相関図
		* 事件
		* 地理
	* 表紙を書く
	* 本文を書く


+--------------+--+-------------+
|Editor        |題|Viewer       |
|              |字|             |
|              |⚠|             |
|              |黒|             |
|              |横|             |
|             ⬆|？|            ⬇|
+--------------+--+-------------+
```

1. アプリ生成アプリ（暗号化UUID動的生成）
1. 著者情報生成（名前、連絡先（SNS、暗号通貨）、UUID）
1. 検索・集計
1. 企画作成（ピッチ、ログライン、BeetSheet）
1. 構成・設定
1. 表紙作成
1. 本文作成
1. 読書
1. 感想・意見・評価・指摘
1. 拡散・集計
1. 印刷（8p折本、中綴じ http://8po.mydns.jp/）


* システム構成
	* 文独（スタンドアロン。文章を対象に編集・閲覧・検索・印刷など単独で完結する機能を実現する）
	* 文散（分散システム。文章を対象にホスティング、評価、認証、暗号通貨、宣伝などを分散システムで実現する）


　小説投稿サイトにおける関係者の立場は主に三つある。すなわち読者、著者、運営である。

立場|要約
----|----
読者|作品を読む人
著者|作品を書く人（筆者・作者）
運営者|サイトや企画の発起人であり運営する人

　読者と著者の間には次の六者がいます。すべて読者から派生した人々です。

立場|要約
----|----
話者|お気持ち表明コメントばかり書く人
信者|作品に肯定的なコメントばかり書く人
疑者|作品に否定的なコメントばかり書く人
編集者|作品に指摘する人（誤字・脱字・衍字・誤用・ミス等）
主張者|独自の価値観をもって作品に対して感想・意見・評価する人
二次創作者|他者作品の設定を流用して作品を書く人

　話者。それは読者が作品や著者にコメントする人です。話者は何か言いたい人です。話すことが目的であり、自分の気持ちを吐き出すことで達成します。自分の価値観はありますが、意見文を書くほどではない人です。

　信者。それは読者が特定の作品をべた褒めする人です。何か欠点があったとしても無理やりフォローします。崇め奉り狂信することが目的であり、異教徒を叩きのめして盲信できる状態になることで達成します。

　疑者。それは読者が特定の作品をこき下ろす人です。何か長所があったとしても無理やり貶します。叩いて貶めることが目的であり、罵詈雑言を吐き散らしてスッキリすることで達成します。

　編集者。それは読者が作品の誤字などを指摘する人です。上記までと異なり、作品を客観的に見ています。指摘により作品の質が向上するため、作品・著者・運営・読者に貢献する有意義な行動をする人です。ただし著者によっては誤字を指摘されることすら嫌がる人もいるようなので一概に良いことかは判断しかねます。

　主張者。それは読者が作品を読んだ後で、自分の考えにもとづいて感想・意見・評価する人です。話者、信者、疑者との違いは、自分の観点を説明する所です。どれも自分語りに寄っていますが、主張者が最も公平であり開示的です。その意味において著者に近づいた読者と言えます。

　二次創作者。それは他人が書いた作品の設定を流用して自分の作品を書く人です。物語は書きたいけど設定をゼロから考えるのは大変なので流用します。これは読者が著者にランクアップする前の最終段階です。

　読者は自分が気持ちよくなることが目的です。上記六者もあくまで自分が気持ちよくなるために行っています。とはいえ、どれも相手が居ることなので、トラブルになりかねません。そこで葛藤し、折衝し、落とし所を見つけます。この技術は作品を書く著者にとって必須スキルです。すなわち書きたいものを書くけど、読者サービスも忘れず、それ故に売れる作品になるから出版社も喜ぶ。そんな文章が書ける著者になるために、関係者の価値観を理解して、それらをなるだけ多く成立させる技術を身につけるため、上記六者の過程を経て、著者へと至るのです。








# 紹介

　アプリの紹介。対象者によって表示すべき内容を変える。

対象者|内容
------|----
初見者《カスタマー》|このアプリは誰が何をするものか。目的達成するための主要な機能は何か。他の方法には何があり、それと比べてどんな意義や価値があるか。どんな人はどのアプリを選ぶべきか。
利用者《ユーザー》|このアプリの使い方
開発者《デベロッパー》|このアプリを開発する方法（ライセンス、ソースコード、ドキュメント）
支援者《サポーター》|このアプリや開発者を支援する方法（暗号通貨寄付、SNS拡散、作品拡散）

* Javel
    * Book
        * Writer（body,cover,author）
            * Converter
            * Printer
            * Publisher
        * Reader（栞,指摘,拡散,感想,意見,分析,評価,二次創作）
    * Shelf
        * Writer（author,plan（pitch,logline,beatSheet,...）,setting,composition,cover,body,   search,totalling）
            * Converter
            * Printer
            * Publisher
        * Reader（）

* Work
    * 創作文
    * 実用文
* Response
    * 指摘（github:pull-request）
    * 要望（GitHub Issue, Project, Discussion）
    * 拡散（SNS（リポスト）、HTML引用（q, blockquote））
    * 感想文（SNS（リプライ）、GitHubPages）
    * 意見文（GitHubPages）
    * 分析
    * 評価
    * 二次創作（GitHubPages）

* 書く、読む、捲る、刷る
* 

* 感想文を書く意義
    * 読者：自分の好きを明文化する（感想を書くこと自体の楽しみを得る。類似の作品を見つけやすくなる）
    * 著者：読者が増えるかもしれない（URLを紹介して閲覧者が増えうる）
    * 運営：作品の価値が高まる（人が評価することで価値があがり利益につながる）
* 評価する意義
    * 読者：自分が読んだ作品を序列化して一覧できる（再読できる。話題にできる。自分の価値観を示せる。異なる観点から異なる評価可）
    * 著者：評価者を選べる（根拠付きなので自分にとって価値ある評価をする人か判断できる）
    * 運営：書籍化に成功し利益を得やすくなる

* Publish
    


# 印刷

https://labelmake.jp/blog/javascript-pdf-generator-library

　印刷にはPDFにする必要がありそう。PDFの実装がとんでもなく難しそう。

