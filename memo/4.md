# ルビ

* 先頭ルビ
* 末尾ルビ
* 両面ルビ


Javel形式|HTML形式
---------|--------
`｜新垣結衣《あらがきゆい》`|`<ruby>新垣結衣<rt>あらがきゆい</rt></ruby>`
`｜新垣結衣《｜ガッキー》`|`<ruby style="ruby-position:under;">新垣結衣<rt>ガッキー</rt></ruby>`
`｜新垣結衣《あらがきゆい｜ガッキー》`|`<ruby class="w"><rbc><rb>新垣結衣</rb></rbc><rtc><rt>あらがきゆい</rt></rtc><rtc><rt>ガッキー</rt></rtc></ruby>`

```html
<ruby>
  <rbc><rb>新垣結衣</rb></rbc>
  <rtc><rt>あらがきゆい</rt></rtc>
  <rtc><rt>ガッキー</rt></rtc>
</ruby>
```
```css
ruby{ display:inline-table; line-height:1em; vertical-align:middle; }
ruby>rbc{ display:table-row-group; text-align:center; }
ruby>rtc:nth-of-type(1){ display:table-header-group; font-size:50%; line-height:1em; text-align:center; }
ruby>rtc:nth-of-type(2){ display:table-footer-group; font-size:50%; line-height:1em; text-align:center; }
ruby>rbc>rb{ display:table-cell; }
ruby>rtc>rt{ display:table-cell; }
```

　ただ、これだと標準仕様であるルビ一つだけの以下タグでルビが下に表示されてしまう。

```
<ruby>
  新垣結衣
  <rt>あらがきゆい</rt>
</ruby>
```

　そこで両面ルビには`class`指定させることにした。以下のように。


```html
<ruby class="w">
  <rbc><rb>新垣結衣</rb></rbc>
  <rtc><rt>あらがきゆい</rt></rtc>
  <rtc><rt>ガッキー</rt></rtc>
</ruby>
```
```css
ruby.w{ display:inline-table; line-height:1em; vertical-align:middle; }
ruby.w>rbc{ display:table-row-group; text-align:center; }
ruby.w>rtc:nth-of-type(1){ display:table-header-group; font-size:50%; line-height:1em; text-align:center; }
ruby.w>rtc:nth-of-type(2){ display:table-footer-group; font-size:50%; line-height:1em; text-align:center; }
ruby.w>rbc>rb{ display:table-cell; }
ruby.w>rtc>rt{ display:table-cell; }
```

　これで両面、上のみ、下のみの３パターンをすべて網羅できる。

　どうせ仕様外のタグを使うならWebComponenetで以下のようにしたほうがいいかも？

```
<ruby-2 f="あらがきゆい" l="ガッキー">新垣結衣</ruby-2>
<ruby-2 f="あらがきゆい">新垣結衣</ruby-2>
<ruby-2 l="ガッキー">新垣結衣</ruby-2>
```

